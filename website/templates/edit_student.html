<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Student । Chandpur MAK Memorial School and Collage</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&family=Roboto:wght@300&display=swap');
body {
    background: #000000;
    font: 13px/1.7em 'Open sans';
    background-color: #f4f4f4;
    margin: 0;
    display: flex;
    align-items: center;
    flex-direction: column;
    height: 100vh;
}
#dob{
    margin-bottom: -5px;
}
#subject{
    display: none;
}
.imagess{
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    padding: 2px;
    height: 60px;
    width: 60px;
    margin: 15px;
    
}
nav{
    display: flex;
    align-items: start;
    width: 80%;
}
#serial{
    width: 50px;
}
header{
    border-top: 1px solid  rgba(128, 128, 128, 0.811);
    border-bottom: 1px solid  rgba(128, 128, 128, 0.881);
    width: 100%;
    display: flex;
    align-items: center;
    flex-direction: column;
    
}
.header{
    border: 5px solid white;
    outline: 1px solid rgba(128, 128, 128, 0.301);
    margin-top: 0px;
    width: 80%;
    color: rgb(23, 219, 186);
    background: linear-gradient(to right, rgb(0, 113, 128) , rgb(128, 126, 0) );
    height: 190px;
    font-size: 18px;
    text-shadow: 1px 1px 10px black;
    display: flex;
    justify-content: center;
    align-items: center;
    line-height: 1.2;
    border-radius: 2px;
}

.container {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

#student_id{
    border: 1px ridge black;
    height: 20px;
    width: 100px;
    border-radius: 3px;
    text-align: center;
    margin-left: 5px;
}

.ndgrp{
    font-size: 14px;
    font-weight: 700;
    color: #0c0101;
}

.nameofstudent , .nameoffather, .nameofmother{
    width: 95%;
    display: inline-flex;
    justify-content: space-evenly;
    flex-wrap: wrap;

    margin-bottom: 15px;
    margin-left: 2%;
}

form {
    display: flex;
    flex-direction: column;
    border: 1px solid rgba(128, 128, 128, 0.301);
    margin-bottom: 100px;
}

label {
    margin-bottom: 8px;
    display: inline-block;
}

.img{
    height: 200px;
    width: 170px;
    border: 2px solid black;
    border-radius: 3px;
}

.disability-part{
    display: inline-flex;
    height: 30px;

}

.disability-part input{
    margin-left: 10px;
    margin-right: 20px;
}

select{
    margin-left: 5px;
    margin-right: 15px;
}
.ycsr{
    width: 70%;

    display: inline-flex;
    justify-content: space-evenly;
    margin-left: 10%;
    margin-bottom: 2%;
    margin-top: 2%;
}
.ycsr input{
    width: 60px;
    height: 15px;
    padding: 5px;
    border-radius: 3px;
}
.ndgrp input {
    padding: 8px;
    margin-bottom: 18px;
    height: 12px;
    border-radius: 5px;
    border: 1px solid rgba(128, 128, 128, 0.801);

    font-family: 'Times New Roman', Times, serif;
    width: 200px;
}
input{
    text-align: center;
    width: fit-content;
}
.iodhas{
    margin-left: 11%;
    display: inline-flex;
    flex-direction: row;
    margin-bottom: 20px;
}

.sb{
    margin-left: 10%;
}
.button {
    background-color: #91b1b93b;
    color: #000000;
    padding: 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin: 2px;
    height: 40px;
    width: 100px;
    min-width: 100px;
    transition: .80s;
}
.rs{
    border: 1px solid rgba(128, 128, 128, 0.301) ;
    padding-left: 37px;
    padding-right: 37px;
    font-weight: bold;
    flex-direction: row;
    display: flex;
    justify-content: center;
    align-items: center;

}

.dgrd{
    margin-left: 8%;
    display: inline-flex;
    flex-direction: column;

}
.dgrd label{
    display: inline-block;
}
.dgrd input{
    width: fit-content;
}
.dgrd select{
    height: 26px;
}
.dgrd option{
    margin: 30px;
}

.dgrd div{
    margin-bottom: 15px;
}
.image{
    display: inline-flex;
    flex-direction: column;
    
}
#img , #file-img{
    margin-left: 20%;
}
.image input{
    height: 20px;
    margin: 2px;
}
.student{
    border: 1px ridge rgba(128, 128, 128, 0.301);
    margin: 20px;
    margin-bottom: 0px;
    width:fit-content;
    flex-direction: row;
    display: flex;
    border-radius: 3px;
    align-items: center;
}
.Ofclass{
    border: 1px solid rgba(128, 128, 128, 0.301) ;
    padding-left: 37px;
    padding-right: 37px;
    font-weight: bold;
    flex-direction: row;
    display: flex;
    justify-content: center;
    align-items: center;
    
}
.c{
    
    padding-left: 5px;
    padding-right: 5px;
    
    font-weight: bolder;
}
#reg-stu{
    border: 1px solid  rgba(128, 128, 128, 0.301);
    padding-left: 5px;
    border-top: none;
    border-bottom: none;
    padding-right: 5px;
    margin-left: 10px;
    font-weight: bold;
}

.button:hover {
    background-color: #45a049;
    width: 150px;
    transition: .90s;
}
.everything{
    display: flex;
    flex-direction: column;
    align-items: center;
}
select{
    height: 24px;
    border-radius: 4px;
}
.EIIN{
    border: 1px solid rgba(128, 128, 128, 0.811);
    
}
.EIIN p {
    margin: 2px;
    text-align: center;
    color: black;
    
    text-shadow: .1px .1px 1px black;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
}
.si{
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    margin-left: 2%;

}
.inputs{
   font-size: 14px;
    width: 60%;
    min-width: 60%;
    max-width: 60%;
}

::-webkit-scrollbar {
    width: 9px;
  }
  /* Track */
  ::-webkit-scrollbar-track {
    background: #f1f1f1;
  }
  
  /* Handle */
  ::-webkit-scrollbar-thumb {
    background: #888;
  }
  
  /* Handle on hover */
  ::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
.qp{
    margin-left: 5%;
}
.sub{
    width: 40%;
    border: 1px solid black;
    border-radius: 6px;
    margin-left: 12%;
}
.subject{
    border: 1px ridge rgba(128, 128, 128, 0.062);
}
.subject p{
    margin: 5px;
    margin-left: 12px;
}
.subject-code{
    border: 1px ridge gray;
    margin-left: 5px;
    padding-left: 5px;
    padding-right: 5px;
    text-align: center;
    border-radius: 4px;
}
.contact .phonenumber, .location{
    margin-left: 10%;
}
.phonenumber{
    margin: 20px;
}
.location{
    border: 1px solid rgba(128, 128, 128, 0.301);
    width: 80%;
    display: inline-flex;
    flex-wrap: wrap;
    justify-content: space-evenly;
    padding: 10px;
    border-radius: 8px;
    box-shadow: 1px 3px 10px rgba(0, 0, 0, 0.384);
    margin-bottom: 20px;
    margin-left: 5%;
}
.location div{

    width: 40%;
    margin-top: 10px;
    margin-bottom: 10px;
}
.location input{
    margin-left: 5px;
    height: 20px;
    border-radius: 5px;
    border: none;
    border: 1px solid black;
    padding: 2px;
    padding-left: 5px;
    width: 48%;

}
.buttons{
    width: fit-content;

    padding: 10px;
    margin-left: 17%;
}
#btns{
    width: 140px;
    transition: .60s;
}
#btns:hover{
    background-color: #45a049;
    width: 190px;
    transition: .90s;
}
.buttons{
    background-color: #91b1b93b;
    color: #000000;
    padding: 10px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    margin: 2px;
    height: 20px;
    width: 140px;
    min-width: 100px;
    transition: .60s;
    box-shadow: 1px 1px 5px black;
    display: inline-flex;
    flex-direction: row;
    text-align: center;
    text-decoration: none;
    align-items: center;
    margin-bottom: 20px;
}
.buttons:hover{
    background-color: #45a049;
    width: 140px;
    transition: .70s;
}
#buttonss {
    height: 40px;
}
.ycsr div{
    display: inline-flex;
    margin: 20px;
}
.ycsr{
    flex-wrap: wrap;
    justify-content: space-around;
}

    </style>
</head>
<body onscroll="scrolled()">
    <header>
        <div class="header">
            <img type="" src="{{ url_for('static', filename='Name___Logo-removebg-preview.png') }}"  alt="" class="imagess">
            <h1>Chandpur M A Khaleque Memorial School and Collage</h1>
            
        </div>
        <nav>
            <a href="{{ url_for('display_students') }}"><button id="addStudent" class="button">Student List</button></a>
        </nav>
    </header>
    <h1>Student Information</h1>
    <section class="everything">
        <form class="inputs" action="{{ url_for('edit_student', student_id=student[0]) }}" method="post" enctype="multipart/form-data">

            <div class="EIIN">
                <b><p>EIIN: 103789</p></b> 
            </div>
            <div class="id">
                <h2 class="si">Student Information</h2>
                <div class="iodhas">
                    <label for="ID" class="s-id">Student ID:</label>
                    <input name="students_id" id="student_id" type="text" value="{{ student[22] }}" readonly>
                </div>
            </div>
            <div class="sb">
                <label for="reg">Birth Registration No:</label>
                <input type="text" name="reg" id="birth-reg"  value="{{ student[1] }}" readonly>
            </div>
            <div class="ycsr">
                <div>
                    <label for="year">Year: </label>
                    <input type="text" name="year" id="year" value="{{ student[2] }}"  readonly>
                    <select id="yearV">
                        <option value="">Choose</option>
                        <option value="2020">2020</option>
                        <option value="2021">2021</option>
                        <option value="2022">2022</option>
                        <option value="2023">2023</option>
                        <option value="2024">2024</option>
                        <option value="2025">2025</option>
                        <option value="2026">2026</option>
                        <option value="2027">2027</option>
                        <option value="2028">2028</option>
                        <option value="2029">2029</option>
                        <option value="2030">2030</option>
                        <option value="2031">2031</option>
                        <option value="2032">2032</option>
                        <option value="2033">2033</option>
                        <option value="2034">2034</option>
                        <option value="2035">2035</option>
                    </select>
                </div>
                <div>
                    <label for="calss">Class:</label>
                    <input type="text" name="calss" id="class"  value="{{ student[3] }}"  readonly>
                    <select id="classV">
                        <option value="">Choose</option>
                        <option value="06">6</option>
                        <option value="07">7</option>
                        <option value="08">8</option>
                        <option value="09">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                    </select>
                </div>
                <div>
                    <label for="section">Section</label>
                    <input type="text" name="section" id="section" value="{{ student[4] }}"  readonly>
                    <select id="sectionV">
                        <option value="">Choose</option>
                        <option value="01">ক</option>
                        <option value="02">খ</option>
                        <option value="03">গ</option>
                    </select>
                </div>
                <div>
                    <label for="roll">Roll No:</label>
                    <input name="roll" type="text" id="roll" value="{{ student[5] }}"  >
                </div>
            </div>
            <div class="ndgrp">
                <div class="nameofstudent">
                    <div>
                        <label for="s_name_en" class="s_name_en">Student Name (en):</label>
                        <input type="text" name="s_name_en" id="s_name_en" value="{{ student[6] }}" >
                    </div>
                    <div>
                        <label for="s_name_bn" class="s_name_bn">Student Name (bn):</label>
                        <input type="text" name="s_name_bn" id="s_name_bn" value="{{ student[7] }}"  >
                    </div>
                </div>
                <div class="nameoffather">
                    <div>
                        <label for="f_name_en" class="f_name_en">Father's Name (en):</label>
                        <input type="text" name="f_name_en" id="f_name_en" value="{{ student[8] }}"  >
                    </div>
                    <div>  
                        <label for="f_name_bn" class="s_name_bn">Father's Name (bn):</label>
                        <input type="text" name="f_name_bn" id="f_name_bn" value="{{ student[9] }}"  >
                    </div>
                </div>
                <div class="nameofmother">
                    <div>
                        <label for="m_name_en" class="m_name_en">Mother's Name (en):</label>
                        <input type="text" name="m_name_en" id="m_name_en"  value="{{ student[10] }}" >
                    </div>
                    <div>
                        <label for="m_name_bn" class="s_name_bn">Mother's Name (bn):</label>
                        <input type="text" name="m_name_bn" id="m_name_bn"  value="{{ student[11] }}" >
                    </div>
                </div>
                <div class="dgrd">
                    <div>
                        <label for="dob" class="dob">Date of Birth:</label>
                        <input type="date" name="dob" id="dob" min="2005-01-01" max="2012-12-31"  value="{{ student[12] }}">
                    </div>
                    <div>
                        <label for="gender">Gender: </label>
                        <input type="text" name="gender" id="gender" value="{{ student[13] }}" readonly>
                        <details>
                            <summary>Choose Gender</summary>
                            <select id="genderV">
                                <option value="">Choose</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </details>
                    </div>
                    <div>
                        <label for="Religion" >Religion:</label>
                        <input type="text" name="Religion" id="religion" value="{{ student[14] }}" readonly>
                        <details>
                            <summary>Choose Religion</summary>
                            <select id="religionV">
                                <option value="">Choose</option>
                                <option value="Islam">Islam</option>
                                <option value="Hindu">Hindu</option>
                                <option value="Christian">Christian</option>
                                <option value="Buddha">Buddha</option>
                            </select>
                        </details>
                    </div>
                    <div class="disability-part">
                        <label for="disability">Disability:</label>
                        <input type="text" id="Disability"  value="{{ student[15] }}" readonly>
                        <details>
                            <summary>Change Disability</summary>
                            <select id="DisabilityV" name="disability" >
                                <option value="no">No</option>
                                <option value="yes">Change disability</option>
                                <option value=""></option>
                            </select>
                        </details>
                        <div class="nameofdis"  id="wDo" style="display: none; margin-left: 5%;">
                            <label for="dis_part">Name of Disability:</label>
                            <input name="dis_part" type="text" id="which-disability">
                        </div>
                    </div>

    <!-- Add this part to display the photo -->
    <span style="margin-bottom: 15px;">Student Photo:</span>
    {% if student[16] %}
        <img src="{{ url_for('display_photo', student_id=student[0]) }}" alt="Student Photo" style="max-width: 200px; max-height: 300px; box-shadow: 1px 1px 6px black;" >
    {% else %}
        <p>No Photo Available</p>
    {% endif %}
    <div class="reg-sub">
        <h2 class="si">Subjects</h2>
        <div class="qp">
            <h4>Compulsery Subjects:</h4>
            <div class="sub" id="subject">
                <div class="subject">
                    <p>BANGLA - <span class="subject-code">101</span></p>
                </div>
                <div class="subject">
                    <p>ENGLISH - <span class="subject-code">107</span></p>
                </div>
                <div class="subject">
                    <p>MATHEMATICS - <span class="subject-code">109</span></p>
                </div>
                <div class="subject">
                    <p>SCIENCE - <span class="subject-code">127</span></p>
                </div>
                <div class="subject">
                    <p>ART AND CULTURE - <span class="subject-code">148</span></p>
                </div>
                <div class="subject">
                    <p>HISTORY AND SOCIAL SCIENCE - <span class="subject-code">153</span></p>
                </div>
                <div class="subject">
                    <p>DIGITAL TECHNOLOGY - <span class="subject-code">154</span></p>
                </div>
                <div class="subject">
                    <p>LIVE AND LIVELIHOOD - <span class="subject-code">155</span></p>
                </div>
                <div class="subject">
                    <p>WELLBEING - <span class="subject-code">157</span></p>
                </div>
                <div class="subject">
                    <p><span id="reli">Religion - </span> <span id="subject-code-of-reli" class="subject-code"></span></p>
                </div>
            </div>
        </div>
    </div>
    <section class="contact">
        <h2 class="si">Contact</h2>
        <div class="phonenumber">
            <label for="number">Guardian Phone Number:</label>
            <input type="number" name="number" id="phonenumber" value="{{ student[17] }}" readonly>
        </div>
        <div class="location">
            <div>
                <label for="vi">Village:</label>
                <input name="vi" type="text" id="village"  value="{{ student[18] }}" readonly>
            </div>
            <div>
                <label for="post">Post Office:</label>
                <input name="post" type="text" id="postoffice"  value="{{ student[19] }}" readonly>
            </div>
            <div>
                <label for="upazilla">Upazilla:</label>
                <input name="upazilla" type="text" id="upazilla"  value="{{ student[20] }}" readonly>
            </div>
            <div>
                <label for="district">District:</label>
                <input name="district" type="text" id="district"  value="{{ student[21] }}" readonly>
            </div>
        </div>

            <button class="buttons" id="buttonss" type="submit">Save Changes</button>
            <a class="buttons" href="{{ url_for('display_student', student_id=student[0]) }}">Cancel</a>
            <a class="buttons" href="{{ url_for('display_students') }}">Back to Students</a>

    </form>
    
    </section>



    <script>
            var yearDropdown = document.getElementById("year");
            var classDropdown = document.getElementById("class");
            var sectionDropdown = document.getElementById("section");
            var rollInput = document.getElementById("roll");
            var studentIdInput = document.getElementById("student_id");
            

            // Add input event listeners to the roll number input

            // Function to update the student ID based on selected values
            function scrolled() {
                // Get selected values from the dropdowns and input
                var selectedYear = yearDropdown.value;
                var selectedClass = classDropdown.value;
                var selectedSection = sectionDropdown.value;
                var enteredRoll = rollInput.value;

                // Calculate the total by adding selected values
                var total = selectedYear + selectedClass + selectedSection + enteredRoll;

                // Format the student ID based on the total and entered roll number
                var formattedStudentId = total.toString().padStart(4, '0');

                // Update the student ID input field
                studentIdInput.value = formattedStudentId;
            };
        var yearV = document.getElementById("yearV");
        var year = document.getElementById("year");

        // Add a change event listener to the yearV
        yearV.addEventListener("change", function() {
            // Get the selected option value and set it as the input value
            var selectedOption = yearV.options[yearV.selectedIndex].value;
            year.value = selectedOption;
        });

        var genderV = document.getElementById("genderV");
        var gender = document.getElementById("gender");

        // Add a change event listener to the genderV
        genderV.addEventListener("change", function() {
            // Get the selected option value and set it as the input value
            var selectedOption = genderV.options[genderV.selectedIndex].value;
            gender.value = selectedOption;
        });

        var religionV = document.getElementById("religionV");
        var religion = document.getElementById("religion");

        // Add a change event listener to the religionV
        religionV.addEventListener("change", function() {
            // Get the selected option value and set it as the input value
            var selectedOption = religionV.options[religionV.selectedIndex].value;
            religion.value = selectedOption;
        });

        var sectionV = document.getElementById("sectionV");
        var section = document.getElementById("section");

        // Add a change event listener to the sectionV
        sectionV.addEventListener("change", function() {
            // Get the selected option value and set it as the input value
            var selectedOption = sectionV.options[sectionV.selectedIndex].value;
            section.value = selectedOption;
        });

        var DisabilityV = document.getElementById("DisabilityV");
        var Disability = document.getElementById("Disability");

        // Add a change event listener to the DisabilityV
        DisabilityV.addEventListener("change", function() {
            // Get the selected option value and set it as the input value
            var selectedOption = DisabilityV.options[DisabilityV.selectedIndex].value;
            Disability.value = selectedOption;
        });
        var calssV = document.getElementById("classV");
        var calss = document.getElementById("class");

        // Add a change event listener to the calssV
        calssV.addEventListener("change", function() {
            // Get the selected option value and set it as the input value
            var selectedOption = calssV.options[calssV.selectedIndex].value;
            calss.value = selectedOption;
        });

        
        
        var DisabilityV = document.getElementById("DisabilityV");
        var disabilityInput = document.getElementById('disabilityV'); // Corrected the ID
        var wD = document.getElementById('which-disability');
        var wDo = document.getElementById('wDo');
        DisabilityV.addEventListener('change', dis); // Changed the event listener to 'change'

        function dis() {
            var disability = DisabilityV.value; // Corrected the variable name

            console.log(disability);
            if (disability === 'yes') {
                wD.name = "disability";
                DisabilityV.name = "dis_part"; // Changed the variable name
                wDo.style.display = 'inline-flex';
            } else {
                wD.name = "dis_part";
                DisabilityV.name = "disability"; // Changed the variable name
                wDo.style.display = 'none';
            }
        };
</script>

</body>
</html>